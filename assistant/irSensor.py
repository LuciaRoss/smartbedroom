import serial
import irtoy

class IRtoy:
    onSeq = [0, 3, 82, 97, 0, 7, 20, 30, 0, 6, 47, 127, 0, 22, 173, 63, 0, 7, 28, 225, 1, 175, 0, 207, 0, 29, 0, 25, 0, 30, 0, 23, 0, 29, 0, 25, 0, 29, 0, 25, 0, 29, 0, 25, 0, 29, 0, 25, 0, 29, 0, 25, 0, 29, 0, 25, 0, 27, 0, 76, 0, 29, 0, 75, 0, 29, 0, 75, 0, 29, 0, 75, 0, 29, 0, 75, 0, 29, 0, 75, 0, 29, 0, 75, 0, 29, 0, 75, 0, 29, 0, 75, 0, 29, 0, 25, 0, 29, 0, 75, 0, 29, 0, 25, 0, 29, 0, 25, 0, 29, 0, 25, 0, 29, 0, 75, 0, 29, 0, 25, 0, 29, 0, 25, 0, 28, 0, 75, 0, 29, 0, 25, 0, 28,0, 75, 0, 29, 0, 75, 0, 29, 0, 75, 0, 29, 0, 25, 0, 29, 0, 75, 0, 29, 7, 51, 1, 173, 0, 102, 0, 29, 143, 25, 0, 8, 158, 26, 0, 7, 125, 19, 0, 8, 15, 48, 0, 7, 78, 55, 0, 7, 3, 62, 0, 7, 255, 255]
    offSeq = [1, 174, 0, 207, 0, 29, 0, 25, 0, 29, 0, 25, 0, 29, 0, 25, 0, 29, 0, 25, 0, 29, 0, 25, 0, 29, 0, 25, 0, 29, 0, 25, 0, 29, 0, 25, 0, 29, 0, 75, 0, 29, 0, 75, 0, 29, 0, 75, 0, 29, 0, 75, 0, 29, 0, 75, 0, 29, 0, 75, 0, 29, 0, 75, 0, 29, 0, 75, 0, 29, 0, 75, 0, 29, 0, 75, 0, 29, 0, 75, 0, 29, 0, 25, 0, 29, 0, 25, 0, 28, 0, 25, 0, 28, 0, 75, 0, 29, 0, 25, 0, 28, 0, 25, 0, 28, 0, 25, 0, 28, 0, 25, 0, 28, 0, 75, 0, 29, 0, 75, 0, 29, 0, 75, 0, 29, 0, 25, 0, 28, 0, 75, 0, 29, 7, 52, 1, 173, 0, 102, 0, 29, 177, 66, 0, 7, 231, 50, 0, 7, 59, 62, 0, 5, 255, 255]

    def __init__(self):
        serialDevice = serial.Serial('/dev/ttyACM0',timeout=1.0)
        self.toy = irtoy.IrToy(serialDevice)
    def on(self):
        self.toy.transmit(self.onSeq)
    def off(self):
        self.toy.transmit(self.offSeq)
